<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/docstyle.css">

    <script defer src="js/components/tabarea.js"></script>
    <title>Docs</title>
</head>
<body>
    <tab-area>
        <div class="header">
            <div for="1" tabindex="0">Motivaţia alegerii temei</div>
            <div for="2" tabindex="0">Structura aplicaţiei</div>
            <div for="3" tabindex="0">Detalii tehnice de implementare</div>
            <div for="4" tabindex="0">Resurse hard si soft necesare</div>
            <div for="5" tabindex="0">Modalităţi de utilizare</div>
            <div for="6" tabindex="0">Posibilităţi de dezvoltare</div>
        </div>
        <div class="tabs">
            <div name="1">
                <section>
                    Ideea de a crea o aplicatie pentru a modifica usor structura unui graf a aparut in clasa a XI-a la orele de teoria grafurilor.
                    Lucrand de doi ani cu grafurile atat in contextul bacului, cat si cel al admiterii la facultate nu mi-am schimbat impresia: 
                    <b>Sa desenezi grafuri pe hartie este oribil</b>. <br>
                    Sunt multe probleme care necesita desenul pentru a fi rezolvate. Problema vine din faptul ca atunci cand desenezi un graf, 
                    definit spre exemplu prin lista de muchii, nu sti unde sa pui urmatorul nod fara a suprapune muchii si fara a face un dezastru din schita ta, 
                    mai ales atunci cand graful este mai complex. <br>
                </section>
            </div>
            <div name="2">
                <h1>
                    In ceea ce priveste interfata se disting 3 componenete principale.
                </h1>
                <br>
                <section>
                    <h1>I. Bara de meniuri</h1>
                
                    <ul>
                        <li>
                           <b> Meniul <em>"File"</em> :</b> 
                           <div>Permite salvarea si incarcarea grafurilor dintr-un fisier generat de aplicatie.</div>
                           <div>Intitulat <em>My_graphs.html</em>, fisierul pastreaza atat structura cat si setarile alese de utilizator</div>
                           <br>
                        </li>
                        <li>
                            <b>Meniul <em>"Template"</em></b>
                            <div>Coming soon</div>
                            <br>
                        </li>
                        <li>
                            <b>Meniul <em>"View"</em></b>
                            <div>Poate fi folosit pentru a schimba aspectul grafului curent</div>
                            <br>
                        </li>
                        <li>
                            <b>Meniul <em>"Force Model"</em></b>
                            <div>Controleaza fortele ce pot fi aplicate intre nodurile grafului curent</div>
                            <br>
                        </li>
                    </ul>
                </section>
                <section>
                    <h1>II. Fereastra principala</h1>
                    <p>
                        <div>
                            Cuprinde pe langa zona de editare a grafurilor o bara cu numele fiecarui graf al utilizatorului.
                            Intr-o fereastra a aplicatiei pot fi deschise mai multe grafuri, insa doarunul poate fi vizualizat la un anumit moment.
                            Trecerae de la un graf la altul se face prin apasarea unuia din casetele cu nume care va fi evidentiata.
                        </div>
                        <img src="./assets/header-area.png">

                        <div>
                            In imaginea de mai sus se poate observa ca la sfarsitul barei de titluri se afla un buton pe care se afla simbolul +. 
                            Acest buton deschide dialogul de creare al unui graf, dialog prin care se specifica:
                            <ul>
                                <li>Numele grafului</li>
                                <li>tipul (orientat/neorientat)</li>
                                <li>Formatul datelor de intrare (Matrice de adiacenta/Lista de adiacenta/Lista de muchii/Vectori de tati)</li>
                            </ul> 
                            <img src="./assets/newgraphMenu.png" style="width: 100%;">

                        </div>
                    </p>
                    <p>
                        Zona de editare este un sptiu infinit la dreapta si in jos. Fixata la dreapta si in josul acestui spatiu sunt doua rigle care arata pozitia in lume a ferestrei. 
                         Aparitia lor poate fi setata in meniul <em>View</em>. Tot in acest meniu, sau prin <kbd>scroll</kbd>, poste fi setat zoom-ul ferestri (diferit pentru fiecare graf). 
                        In aceasta zona vor fi adaugate muchiile si nodurile.
                    </p>
                </section>

                <section>
                    <h1 id="inspector">III. Inspector</h1>
                    <p>
                        Inspectorul fixat in partea din dreapta a aplicatiei dezvaluie detalii despre graful curent si componentele sale.
                        Acesta are 3 file specializate pentru a observa pe rand:
                        <ul>
                            <li>Structuraa grafului, tipul, numarul de noduri/muchi, componentele conex</li>
                            <li>Atributele unui nod (descrier, id-ul, templatul folosit), nodurile adiacente, pozitia in lume</li>
                            <li>Atributele unei muchii (descrierea, capetele)</li>
                        </ul>
                    </p>
                </section>
                
            </div>
            <div name="3">
                <h1>Aplicatia <em>Graph Maker</em> a fost realizata folosind tehnologii web (HTML, CSS, JS) in editorul <em>Visual Studio Code</em>
                    si este gazduita folosind serviciul <a href="https://mihnea240.github.io/graph/"><em>Github pages</em></a>.<br>
                </h1>
                
                <p style="position: relative;">
                    Fiind o aplicatie complexa a fost necesara organizarea in module/parti reutilizabile. <br>
                    O tehnica utilizata frecvent in codul acestei aplicatii are legatura cu <em>Custom Elements Api</em>, 
                    api care poate fi folosit pentru a modifica componente native ale limbajului HTML sau pentru a crea unele noi in totalitate. <br>
                    
                </p>

                <section>
                    Am folosit acest api pentru a incapsula functionalitati folosite adesea pentru a evita duplicarea codului.
                    In general am creat componente care coordoneaza activitatea propriilor copii. <br><br>
                    Exemple:
                    
                    <div class="image-galery">
                        <img src="./assets/tabarea.png">
                        <img src="./assets/inspector.png">
                    </div>
                    <br>
                    Clasa <code>TabArea</code> este folosita pt a defini tag-ul <code>tab-area</code>. 
                    Aceasta componenta asculta clickuri pe elementele care au atributul <code>for</code> din divul "header" si afiseaza elementul corespunzator din divul "tabs".
                    Componenta <code>graph-inspector</code> este o extensie a componentei <code>tab-area</code> 
                    care implementeaza functionalitatile explicate in <a href="#inspector" onclick="document.body.querySelector('tab-area').selectTab('2')">Structura Aplicatiei</a>
                    Componenta <code>tab-area</code> este folosita de asemenea in meniul <em>Template</em> la selectarea grafului din bara de nume cat si la structura acestei documentatii.
                </section>
                <br>
                
                <section>
                    Intr-o maniera similara au fost create componentele: <code>graph-tab; graph-node; graph-edge</code>
                    Dintre aceste componenta <code>graph-tab</code> este cea mai mare, deoarece ea coordoneaza elementele de UI ( 
                    prelucrarea eventurilor venite de la mouse si tastatura si afisarea corespunzatoarea a nodurilor si a muchiilor dintre ele).
                    Componenta <code>graph-tab</code> este subordonata clasei <code>Graph</code> care se asigura de initializarea setarilor si de prelucrarea datelor grafului,
                    avand metode cum ar fi aflarea gradului unui nod sau aflarea componentelor conexe, folosite in inspector.
                </section>
                <br>
                <section>
                    Un espect important al oricarei aplicatii este UX (user experience). Aplicatia <em>Graph Maker</em> permite adaugarea/stergerea/copierea de noduri/muchi, 
                    iar in acest proces se pot face greseli. Astfel, folosind ceea ce se numeste <em>The Command design pattern</em> a fost implementata functionalita de <b>undo</b> si <b>redo</b>

                    Acesta este un standard care foloseste o stiva pentru a stoca obiecte de tip comanda care sunt o codificare a schimbarile cauzate de utilizator de-a lungul ruralii programului.
                    Obiecte de tip comanda implementeaza obligatoriu doua metode <code>undo()</code> si <code>redo()</code>, 
                    metode care au fost legate de <kbd>Ctrl</kbd> + <kbd>z</kbd> respectiv <kbd>Ctrl</kbd> + <kbd>y</kbd>

                    <img src="./assets/commandpattern.png" style="margin-left: auto;">
                </section>
                
            </div>
            <div name="4">
                <table>
                    <th>Windows</th>
                    <th>Mac Os</th>
                    <th></th>
                    <tr>
                        <td>Chrome</td>
                        <td></td>
                        <td>V 112 4.04.2023</td>
                    </tr>
                    <tr>
                        <td>Safari</td>
                        <td>V 120</td>
                    </tr>
                </table>
            </div>
            <div name="5">
                <section>
                    <h1>Selectarea unui subgraf</h1>
                    <p>
                        Aceasta este o functionalitate care iti permite sa selectezi o portiune a unui graf. 
                        Nodurile/muchiile selectate vor fi evidentiate folosinf culoareaprincipala a grafului (prima culoare care apare in gradientul din bara de titluri). 
                        Selctarea poate fi realizata folosind <em>Right Click</em> sau <em>Right Drag</em> (similar cu selectarea multipla din windows). <br>
                        Este permisa selectarea a multiple obiecte, intrucat deselectia se realizeaza cand utilizatorul apasa inafara selectie. <br>
                        Unei selectii pot fi aplicate urmatoarele actiuni:
                        <table>
                            <th>Shortcut</th>
                            <th>Action</th>
                            <tr>
                                <td><kbd>Ctrl</kbd> drag selection</td>
                                <td>Misca toate nodurile din selectia in acelasi timp</td>
                            </tr>
                            <tr>
                                <td><kbd>Ctrl</kbd> scroll</td>
                                <td>Apropie/departeaza nodurile de pozitia cursorului</td>
                            </tr>
                            <tr>
                                <td><kbd>Ctrl + C</kbd></td>
                                <td>Copiaza selectia in clipboard (nodurile copiate si muchiile dintre acestea isi pastreaza datele cu exceptia numarului de ordine)</td>
                            </tr>
                            <tr>
                                <td><kbd>Ctrl + V</kbd></td>
                                <td>Lipeste selectia copiata daca exista (aceasta este pusa la pozitia cyrsorului)</td>
                            </tr>
                            <tr>
                                <td><kbd>Del</kbd></td>
                                <td>Elimina toate muchiile si nodurile selectate, inclusiv muchiile incidente de nodurile eliminate</td>
                            </tr>
                        </table>
                    </p>
                    <p>
                        <div>Alte actiuni ce tin de selectie sunt accesibile prin meniul <em>Selection Actions</em>, care apare prin <kbd>Right Click</kbd> in afara selectiei</div><br>
                        <table>
                            <tr>
                                <td>Delete nodes</td>
                                <td>Sterge toate nodurile selectate</td>
                            </tr>
                            <tr>
                                <td>Delete edges</td>
                                <td>Sterge toate muchiile selectate</td>
                            </tr>
                            <tr>
                                <td>Add node</td>
                                <td>Adauga un nou nod</td>
                            </tr>
                            <tr>
                                <td>Complete</td>
                                <td>Adauga toate muchiile posibile intre nodurile selectate</td>
                            </tr>
                            <tr>
                                <td>Disconnect</td>
                                <td>Sterge toate muchiile incidente cu nodurile selectate</td>
                            </tr>
                        </table>
                        <div>Aceste obtiuni au explicatii de tip <em>tooltip</em></div>
                    </p>
                </section>
                <section>
                    <p>Alte actiuni care pot fi indeplinite folosind tastatura</p><br>
                    <table>
                        <tr>
                            <td><kbd>+</kbd></td>
                            <td>Adauga un nou nod la pozitia cursorului</td>

                        </tr>
                        <tr>
                            <td><kbd>F</kbd></td>
                            <td>Porneste/opreste sistemul fortelor</td>
                        </tr>
                        <tr>
                            <td><kbd>N</kbd></td>
                            <td>Deschide dialog pentru adaugarea unui graf</td>
                        </tr>
                        <tr>
                            <td><kbd>Ctrl + A</kbd></td>
                            <td>Adauga in selectie toate nodurile si muchiile</td>
                        </tr>
                        <tr>
                            <td><kbd>F2</kbd></td>
                            <td>Seteaza afisarea pe ecran complet</td>
                        </tr>
                    </table>
                    <br>

                    <div>Pe lanaga actiunile care pot fi indeplinite asupra unei selectii exista si actiuni care pot fi aplicate asupra inui graf. Meniul <em>Graph actions</em> 
                        se deschide prin <kbd>Right click</kbd> pe butonul specific grafului din bara de titluri, avand drept componente: </div> <br>
                    <table>
                        <tr>
                            <td>Rename</td>
                            <td>Butonul din bara de titluri specific fiecarui graf este de fapt un input de tip text care se activeaza prin dublu click sau 
                                prin acest meniu.
                            </td>
                        </tr>
                        <tr>
                            <td>Delete</td>
                            <td>Sterge graful</td>
                        </tr>
                        <tr>
                            <td>Copy</td>
                            <td>Creeaza o copie identica a grafului</td>
                        </tr>
                    </table>
                    
                </section>

                <section>
                    <h1>Aplicarea fortelor</h1>
                    <p>
                        Acest sistem poate fi activat apasand tasta <kbd>F</kbd> sau din meniul <em>Force Model</em>. 
                        Fortele sunt aplicate intre nodurile vizibile pe ecran, iar zona vizibila pe ecran devine o cutie din care nodurile nu pot iesi. 
                        Setarea implicita este ca intre toate nodurile sa apara o forta de tip elastic, dar meniul dispune si de alte setari. <br>
                        <table>
                            <tr>
                                <td>Toggle</td>
                                <td>Porneste/Opreste aplicarea fortelor</td>
                            </tr>
                            <tr>
                                <td>Gravity</td>
                                <td>Constanta gravitational (implicit setata la 0)</td>
                            </tr>
                            <tr>
                                <td>Spring constant</td>
                                <td>Constanta elastica, k din formula Fe=k*dl</td>
                            </tr>
                            <tr>
                                <td>Spring ideal length</td>
                                <td>Pozitia de echilibru a arcului (dl)</td>
                            </tr>
                            <tr>
                                <td>Drag</td>
                                <td>Procent de viteza pierdut in fiecare cadru, astfel incat dupa un timp nodurile sa ajung intr-o pozitie de echilibru</td>
                            </tr>
                            <tr>
                                <td>Interactions</td>
                                <td>Fortele pot fi calculate intr oricare doua perechi de noduri, sau intre oricare doua noduri adiacente</td>
                            </tr>
                            <tr>
                                <td>Reset</td>
                                <td>Acest buton reseteaza vitezele tuturor nodurilor in cazul in care lucrurile ies de sub control</td>
                            </tr>

                        </table>
                        <div>In acest mod nodurile mutate de utilizator vor primi viteza cursorului</div>
                    </p>
                </section>
            </div>
            <div name="6">
                <section>
                    Scopul principal al aplicatiei <em>Graph Maker</em> este sa faciliteze desenarea clara a grafurilor. <br> <br>
                    Insa, deocamdata, dupa apasarea butonului <em>Submit</em> nodurile sunt create si asezate la pozitii aleatorii pe ecran. 
                    Intr-un graf cu structura complexa acest lucru poate duce la forme neobisnuit de ciudate.
                    <img src="" alt=""> 
                    <br>
                    O posibila solutia vine sub form meniului <em>Force Model</em>, rin setarea fortelor astfel incat intre nodurile adiacente sa 
                    apara forte de atractie, iar intre nodurile neadiacente sa apara forte de respingere. In teorie acest lucru ar rearanja graful intr-o 
                    configuratie mai lizibila.
                </section>

                <section>
                    <h1>Aplicarea fortelor este un sistem rudimentar</h1>
                    <p>
                        Ca o scurta descriere a ce se intampla in spatele culiselor: La activarea sistemului care aplica forte asupra nodurilor 
                        se retine in memorie toate nodurile vizibile pe ecran. Apoi la fiecare cateva milisecunde se racalculeze fortele intre fiecare pereche de 
                        noduri (complexitate O(n^2)). Adaugand faptul ca schimbarea pozitiei unui element html este un proces scump, aplicatie incetineste cand
                        sunt multe noduri pe ecran. <br>
                        In cazul fortelor de tip atractie gravitationala se pot folosi algoritmi care reduc complexitatea la NlogN (ex: Barnes-Hut).
                    </p>
                </section>
                <section>
                        <h1>Analiza subgrafurilor</h1>
                        <p>In cadrul aplicatiei poti selecta o parte dintr-un graf, un subgraf, insa nu poti vedea niciun fel de informatie
                            despre selectia
                            facuta. Acest lucru este posibil doar daca copiezi acea selectie intr-o alta fila. (<a href="#">informatii despre selectie</a>)
                        </p>
                </section>
                <section>
                    <h1>Afisarea nodurilor</h1>
                    <p>
                        Un mod de utilizare al aplicatiei este modelarea relatiilor dintre obiecte. Obiecte care pot fi mai complexe decat un simplu 
                        cerculet in care este incadrat niste text. <br>
                        Meniul <em>Template</em> permite crearea de sablone pentru initializarea setarilor unui nod. Acest meniu poate fi extins 
                        pentru a permite adaugarea altor moduri de afisare a nodurilor, cum ar fi:
                            <ul>
                                <li>Imagine cu descriere: Cum ar fi numele unui folder/fiser si iconita corespunzatoare</li>
                                <li>Imagine fara descriere</li>
                                <li>Descriere cu tabel de propritati: Similar unei liste de campuri din MS Access</li>
                            </ul>
                    </p>
                </section>
                <section>
                    <h1>Selectarea prin left drag</h1>
                    <p>
                        Similar cu dreptunghiul care apare in windows 
                    </p>
                    
                </section>
            </div>
        </div>
    </tab-area>
</body>
</html>